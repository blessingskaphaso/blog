<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Rev. Fr. Geraldo Bleza Malota</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            font-style: italic;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        /* Main Navigation Links */
        .main-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .nav-link {
            background: white;
            border: 2px solid #34495e;
            padding: 0.8rem 1.2rem;
            border-radius: 25px;
            text-decoration: none;
            color: #34495e;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-link:hover {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(44, 62, 80, 0.3);
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: white;
            border: 2px solid #34495e;
            padding: 1rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            color: #34495e;
            transition: all 0.3s ease;
            font-family: 'Georgia', serif;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tab-btn:hover, .tab-btn.active {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(44, 62, 80, 0.3);
        }

        .tab-content {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 2.5rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            color: #2c3e50;
            font-size: 2rem;
            margin-bottom: 2rem;
            font-weight: 300;
            text-align: center;
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: linear-gradient(135deg, #2c3e50, #34495e);
            margin: 1rem auto;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            color: #34495e;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #2c3e50;
            font-weight: 500;
            font-size: 1.1rem;
        }

        .stat-icon {
            font-size: 2.5rem;
            color: #34495e;
            margin-bottom: 1rem;
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.1rem;
        }

        .form-control {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 1rem;
            font-family: 'Georgia', serif;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .form-control:focus {
            outline: none;
            border-color: #34495e;
            background: white;
            box-shadow: 0 0 0 3px rgba(52, 73, 94, 0.1);
        }

        textarea.form-control {
            min-height: 200px;
            resize: vertical;
        }

        .btn {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            font-family: 'Georgia', serif;
            transition: all 0.3s ease;
            margin-right: 1rem;
            margin-bottom: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(44, 62, 80, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .btn-danger:hover {
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
        }

        .btn-secondary:hover {
            box-shadow: 0 6px 20px rgba(149, 165, 166, 0.3);
        }

        .content-list {
            margin-top: 2rem;
        }

        .content-item {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border-left: 5px solid #34495e;
        }

        .content-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .content-item h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.4rem;
            font-weight: 400;
        }

        .content-meta {
            color: #7f8c8d;
            font-size: 0.95rem;
            margin-bottom: 1rem;
            font-style: italic;
        }

        .content-preview {
            color: #34495e;
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        .poem-lines {
            white-space: pre-line;
            font-style: italic;
            line-height: 1.8;
            color: #2c3e50;
        }

        .comment-section {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid #e9ecef;
        }

        .comment {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            border-left: 4px solid #34495e;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .comment-header {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .comment-text {
            color: #34495e;
            line-height: 1.6;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2.5rem;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #7f8c8d;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #2c3e50;
        }

        .search-box {
            margin-bottom: 2rem;
        }

        .search-box input {
            background: white;
            border: 2px solid #e9ecef;
        }

        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }

        .spiritual-quote {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 3rem;
            font-style: italic;
            font-size: 1.1rem;
        }

        .empty-state {
            text-align: center;
            color: #7f8c8d;
            padding: 3rem;
            font-style: italic;
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: #bdc3c7;
        }

        @media (max-width: 768px) {
            .header {
                padding: 1.5rem 1rem;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .container {
                padding: 1rem 0.5rem;
            }

            .nav-tabs, .main-nav {
                flex-direction: column;
                align-items: center;
                gap: 0.5rem;
            }

            .tab-btn, .nav-link {
                width: 200px;
                justify-content: center;
            }

            .tab-content {
                padding: 1.5rem;
            }

            .section-title {
                font-size: 1.6rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .stat-card {
                padding: 1.5rem;
            }

            .stat-number {
                font-size: 2.5rem;
            }

            .content-item {
                padding: 1.5rem;
            }

            .modal-content {
                padding: 2rem;
                margin: 1rem;
                width: calc(100% - 2rem);
            }

            .action-buttons {
                justify-content: center;
            }

            .btn {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1><i class="fas fa-cross"></i> Admin Dashboard</h1>
        <p>Rev. Fr. Geraldo Bleza Malota - Content Management System</p>
    </div>

    <div class="container">
        <div class="spiritual-quote">
            "Let your light shine before others, that they may see your good deeds and glorify your Father in heaven." - Matthew 5:16
        </div>

        <!-- Main Navigation Links -->
        <div class="main-nav">
            <a href="index.html" class="nav-link">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="about.html" class="nav-link">
                <i class="fas fa-user"></i> About Father
            </a>
            <a href="articles.html" class="nav-link">
                <i class="fas fa-book"></i> Public Articles
            </a>
            <a href="poems.html" class="nav-link">
                <i class="fas fa-heart"></i> Public Poems
            </a>
            <a href="contact.html" class="nav-link">
                <i class="fas fa-envelope"></i> Contact
            </a>
        </div>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="showTab('dashboard')">
                <i class="fas fa-chart-line"></i> Dashboard
            </button>
            <button class="tab-btn" onclick="showTab('articles')">
                <i class="fas fa-scroll"></i> Articles
            </button>
            <button class="tab-btn" onclick="showTab('poems')">
                <i class="fas fa-feather-alt"></i> Poems
            </button>
            <button class="tab-btn" onclick="showTab('comments')">
                <i class="fas fa-comments"></i> Comments
            </button>
            <button class="tab-btn" onclick="showTab('settings')">
                <i class="fas fa-cog"></i> Settings
            </button>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <h2 class="section-title">Ministry Overview</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-scroll"></i></div>
                    <div class="stat-number" id="articleCount">0</div>
                    <div class="stat-label">Published Articles</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-feather-alt"></i></div>
                    <div class="stat-number" id="poemCount">0</div>
                    <div class="stat-label">Shared Poems</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-comments"></i></div>
                    <div class="stat-number" id="commentCount">0</div>
                    <div class="stat-label">Community Comments</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-eye"></i></div>
                    <div class="stat-number" id="viewCount">0</div>
                    <div class="stat-label">Total Readers</div>
                </div>
            </div>
            
            <h3 style="color: #2c3e50; margin-bottom: 1.5rem; font-size: 1.5rem;">Recent Ministry Activities</h3>
            <div id="recentActivity" class="content-list">
                <div class="empty-state">
                    <i class="fas fa-dove"></i>
                    <p>Your ministry journey begins here. Start by sharing your first article or poem to inspire others.</p>
                </div>
            </div>
        </div>

        <!-- Articles Tab -->
        <div id="articles" class="tab-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
                <h2 class="section-title" style="margin: 0;">Spiritual Articles</h2>
                <button class="btn" onclick="showCreateForm('article')">
                    <i class="fas fa-plus"></i> New Article
                </button>
            </div>
            
            <div class="search-box">
                <input type="text" class="form-control" placeholder="🔍 Search articles by title, content, or tags..." onkeyup="searchContent('article', this.value)">
            </div>
            
            <div id="articlesList" class="content-list">
                <div class="empty-state">
                    <i class="fas fa-scroll"></i>
                    <p>No articles yet. Share your first spiritual reflection to guide and inspire your readers.</p>
                </div>
            </div>
        </div>

        <!-- Poems Tab -->
        <div id="poems" class="tab-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
                <h2 class="section-title" style="margin: 0;">Spiritual Poems</h2>
                <button class="btn" onclick="showCreateForm('poem')">
                    <i class="fas fa-plus"></i> New Poem
                </button>
            </div>
            
            <div class="search-box">
                <input type="text" class="form-control" placeholder="🔍 Search poems by title, verses, or themes..." onkeyup="searchContent('poem', this.value)">
            </div>
            
            <div id="poemsList" class="content-list">
                <div class="empty-state">
                    <i class="fas fa-feather-alt"></i>
                    <p>No poems yet. Share your first poetic expression of faith to touch hearts and souls.</p>
                </div>
            </div>
        </div>

        <!-- Comments Tab -->
        <div id="comments" class="tab-content">
            <h2 class="section-title">Community Voices</h2>
            <div id="allComments" class="content-list">
                <div class="empty-state">
                    <i class="fas fa-comments"></i>
                    <p>No comments yet. When readers engage with your content, their voices will appear here.</p>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="tab-content">
            <h2 class="section-title">Ministry Settings</h2>
            <div class="form-group">
                <label><i class="fas fa-church"></i> Website Title</label>
                <input type="text" class="form-control" id="siteTitle" value="Rev. Fr. Geraldo Bleza Malota">
            </div>
            <div class="form-group">
                <label><i class="fas fa-quote-left"></i> Ministry Description</label>
                <textarea class="form-control" id="siteDescription" style="min-height: 120px;">This platform is dedicated to sharing spiritual thoughts, reflections, poems, and articles of Rev. Fr. Geraldo Bleza Malota — a Catholic priest from Dedza Diocese. Through these writings, I hope to inspire and uplift readers on their spiritual journey.</textarea>
            </div>
            <div class="form-group">
                <label><i class="fas fa-shield-alt"></i> Comments Moderation</label>
                <select class="form-control" id="commentModeration">
                    <option value="auto">Auto-approve comments</option>
                    <option value="manual">Manual approval required</option>
                </select>
            </div>
            <div class="form-group">
                <label><i class="fas fa-palette"></i> Theme Color</label>
                <select class="form-control" id="themeColor">
                    <option value="default">Classic Blue (Default)</option>
                    <option value="warm">Warm Earth Tones</option>
                    <option value="nature">Nature Green</option>
                </select>
            </div>
            <button class="btn" onclick="saveSettings()">
                <i class="fas fa-save"></i> Save Settings
            </button>
        </div>
    </div>

    <!-- Modal for Create/Edit Content -->
    <div id="contentModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">&times;</button>
            <h3 id="modalTitle">Create New Content</h3>
            <form id="contentForm">
                <div class="form-group">
                    <label><i class="fas fa-heading"></i> Title *</label>
                    <input type="text" class="form-control" id="contentTitle" required>
                </div>
                <div class="form-group" id="authorGroup">
                    <label><i class="fas fa-user"></i> Author</label>
                    <input type="text" class="form-control" id="contentAuthor" value="Rev. Fr. Geraldo Bleza Malota">
                </div>
                <div class="form-group">
                    <label id="contentLabel"><i class="fas fa-edit"></i> Content *</label>
                    <textarea class="form-control" id="contentBody" required></textarea>
                </div>
                <div class="form-group" id="tagsGroup">
                    <label><i class="fas fa-tags"></i> Spiritual Themes (comma-separated)</label>
                    <input type="text" class="form-control" id="contentTags" placeholder="faith, prayer, hope, love, salvation">
                </div>
                <button type="submit" class="btn">
                    <i class="fas fa-save"></i> <span id="submitBtnText">Publish</span>
                </button>
                <button type="button" class="btn btn-secondary" onclick="closeModal()">
                    <i class="fas fa-times"></i> Cancel
                </button>
            </form>
        </div>
    </div>

    <!-- Modal for Adding Comments -->
    <div id="commentModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeCommentModal()">&times;</button>
            <h3><i class="fas fa-comment"></i> Add Comment</h3>
            <form id="commentForm">
                <div class="form-group">
                    <label><i class="fas fa-user"></i> Name</label>
                    <input type="text" class="form-control" id="commenterName" required>
                </div>
                <div class="form-group">
                    <label><i class="fas fa-envelope"></i> Email (optional)</label>
                    <input type="email" class="form-control" id="commenterEmail">
                </div>
                <div class="form-group">
                    <label><i class="fas fa-comment-dots"></i> Comment</label>
                    <textarea class="form-control" id="commentText" required style="min-height: 120px;"></textarea>
                </div>
                <button type="submit" class="btn">
                    <i class="fas fa-paper-plane"></i> Submit Comment
                </button>
                <button type="button" class="btn btn-secondary" onclick="closeCommentModal()">
                    <i class="fas fa-times"></i> Cancel
                </button>
            </form>
        </div>
    </div>

    <script>
        // Data storage
        let articles = [];
        let poems = [];
        let comments = [];
        let currentEditId = null;
        let currentEditType = null;
        let currentCommentTarget = null;
        let nextId = 1;

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            loadSampleData();
            updateDashboard();
            renderContent();
        });

        // Load sample spiritual content
        function loadSampleData() {
            articles = [
                {
                    id: 1,
                    title: "The Light of Faith in Dark Times",
                    author: "Rev. Fr. Geraldo Bleza Malota",
                    content: "In moments when darkness seems to engulf our world, faith becomes our guiding light. Like a lighthouse standing firm against the storm, our faith in God provides direction and hope when we cannot see the way forward.\n\nThe Gospel reminds us that Christ is the light of the world, and through Him, we too can become bearers of light to others. In our daily lives, we have countless opportunities to shine this divine light through acts of kindness, words of encouragement, and gestures of love.\n\nLet us remember that even the smallest flame can illuminate the darkest room. Your faith, no matter how small you might think it is, has the power to bring hope to someone who desperately needs it today.",
                    tags: ["faith", "hope", "light", "guidance", "gospel"],
                    date: new Date().toLocaleDateString(),
                    views: 234
                },
                {
                    id: 2,
                    title: "The Power of Prayer in Community",
                    author: "Rev. Fr. Geraldo Bleza Malota",
                    content: "Prayer is not merely a personal conversation with God; it is also a powerful force that binds communities together. When we gather to pray, we create a sacred space where individual concerns become shared burdens, and personal joys become collective celebrations.\n\nIn the Catholic tradition, we understand that the Church itself is built on the foundation of communal prayer. The Mass, the Rosary, and other devotions bring us together in unity of purpose and spirit.\n\nI encourage each of you to participate actively in your parish prayer groups, to join in the liturgical celebrations, and to remember that your prayers for others strengthen the entire Body of Christ.",
                    tags: ["prayer", "community", "church", "unity", "mass"],
                    date: new Date(Date.now() - 86400000).toLocaleDateString(),
                    views: 189
                }
            ];

            poems = [
                {
                    id: 3,
                    title: "Hope in the Storm",
                    author: "Rev. Fr. Geraldo Bleza Malota",
                    content: "When thunder roars and lightning strikes,\nAnd winds of change blow fierce and strong,\nI find my peace in Your embrace,\nO Lord, to You my heart belongs.\n\nThe storms of life may rage around,\nBut in Your love I stand secure,\nFor You have promised to be near\nTo all whose hearts are truly pure.\n\nSo let the tempest rage and blow,\nMy anchor holds within the veil,\nIn Christ, my hope shall never fade,\nHis love for me will never fail.",
                    tags: ["hope", "storms", "peace", "love", "christ"],
                    date: new Date(Date.now() - 172800000).toLocaleDateString(),
                    views: 156
                },
                {
                    id: 4,
                    title: "Morning Prayer",
                    author: "Rev. Fr. Geraldo Bleza Malota",
                    content: "As dawn breaks through the eastern sky,\nAnd birds begin their morning song,\nI lift my heart in praise to You,\nO God, to whom all days belong.\n\nBless this day with Your holy presence,\nGuide my steps along Your way,\nMay every word and deed reflect\nYour love throughout this precious day.\n\nGrant me wisdom in decisions,\nPatience when the way seems long,\nAnd may my life be living proof\nThat in Your grace, I am made strong.",
                    tags: ["morning", "prayer", "praise", "guidance", "blessing"],
                    date: new Date(Date.now() - 259200000).toLocaleDateString(),
                    views: 203
                }
            ];

            comments = [
                {
                    id: 1,
                    contentId: 1,
                    contentType: 'article',
                    name: "Maria Santos",
                    email: "maria@example.com",
                    text: "Father, your words about faith being a light in darkness really touched my heart. I've been going through a difficult time, and this message reminded me that God's light never dims, even when our circumstances seem overwhelming. Thank you for this beautiful reflection.",
                    date: new Date().toLocaleDateString()
                },
                {
                    id: 2,
                    contentId: 3,
                    contentType: 'poem',
                    name: "John Phiri",
                    email: "john@example.com",
                    text: "This poem speaks to my soul, Father. The imagery of finding peace in God's embrace during life's storms is so powerful. I shared this with my prayer group, and it really resonated with everyone. God bless your ministry.",
                    date: new Date(Date.now() - 86400000).toLocaleDateString()
                },
                {
                    id: 3,
                    contentId: 2,
                    contentType: 'article',
                    name: "Grace Mwale",
                    email: "grace@example.com",
                    text: "Your article on communal prayer inspired me to join our parish prayer group. I never realized how much strength could be found in praying together with others. Thank you for encouraging us to participate more actively in our faith community.",
                    date: new Date(Date.now() - 172800000).toLocaleDateString()
                }
            ];

            nextId = 5;
        }

        // Tab navigation
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));

            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            if (tabName === 'dashboard') {
                updateDashboard();
            } else if (tabName === 'comments') {
                renderAllComments();
            }
        }

        // Update dashboard statistics
        function updateDashboard() {
            document.getElementById('articleCount').textContent = articles.length;
            document.getElementById('poemCount').textContent = poems.length;
            document.getElementById('commentCount').textContent = comments.length;
            
            const totalViews = [...articles, ...poems].reduce((sum, item) => sum + (item.views || 0), 0);